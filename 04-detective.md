# 名探偵 Hello, world!

準備運動はもう十分できたでしょうから、そろそろ本題に入りましょう。

名探偵 Hello, world! の出番ですよ。

## 捜査のゴール

本資料の目的は、「"Hello, world!" の動きを深掘り」することです。ただし、「深掘り」ではちょっと曖昧なので、どのあたりまで掘るかを決めることにしましょう。

`println!()` を分解していけば、どこかに "Hello, world!" の一部または全部を出力する不可分な処理があるはずだ、という予想がつきます。

一部または全部とは、まずは先頭一文字 "H" のみが出力されるかもしれないし、またはいっぺんに "Hello, world!" と出力されるかもしれない、ということです。

不可分な処理とは、より直感的(しかし不正確)には、その1行の前では何も出力されていないが、その1行を超えた瞬間に何かが出力されているような1行ということです。

真犯人とも言うべきその1行を突き止めることができれば、まぁまぁ深掘りしたと言えるでしょう。(言えませんか?)

```rust
// ここではなにも出力されてないが
???不可分な処理??? // ←この行を特定する
//　ここではなにかが出力されている
```

というわけで、半ば強引ではありますが、その「不可分な処理」を特定することを今回の捜査のゴールとしましょう。

## 捜査の方針

ゴールが決まったところで、捜査の方針を考えましょう。

真犯人たる「不可分な処理」というのが、`println!()` の呼び出しの中にどのように潜んでいるかを予想してみます。

先程のチャプターでの図の書き方を真似すると:

![](./04-detective/criminal-in-fn-call.png)

こんな感じで潜んでいるはずです。

ここからどうやって犯人の居場所を絞り込めるでしょうか。

たとえば、すべての関数呼び出しの前後で出力を比較すれば、少なくとも真犯人を匿っている関数呼び出しは特定できそうです。

そんな都合よく捜査ができるのかって?　実はデバッガというツールを使うとそれが可能なのです。

そうとわかれば早速捜査です。

## まとめ

- Hello, world! の一部または全部を出力する不可分な処理を見つけるのがゴール
- デバッガを使うとその不可分な処理の在り処を絞り込める(らしい)
